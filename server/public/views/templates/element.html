<main>

    <h3>Form</h3>
    <button ng-click="vm.insertSection(0)">Add Section Here</button>
    <div ng-repeat="item in vm.newElement">
        <textarea ng-model="item.value"></textarea>
        <button ng-click="vm.removeSection($index)">Remove This Section</button>
        <br>
        <button ng-click="vm.insertSection($index+1)">Add Section Here</button>
    </div>
    <button ng-click="vm.saveElement(vm.newElement)">Save</button>

        <!-- <select>
            <option ng-repeat="element in vm.elementsList" value="{{element._id}}">{{element.content}}</option>
        </select> -->

    <h3>Data</h3>
    <button ng-click="vm.updateElement(vm.element)">Save Changes</button>
    <section ng-init="editableAny = true">
        <label style="clear: both"><input type="checkbox" ng-model="editableAny" ng-init="editableHere = true" /> Enable Editing?</label>


        <article><button ng-click="vm.insertSectionInElement(0)">Insert Section Here</button></article>
        <article style="clear: both; border: 1px #000 solid; margin: 10px 0; padding: 10px 0;" ng-repeat="section in vm.element.content" ng-init="editableHere = false">
            
            <div style="float: left; width: 400px;">
                <div ng-bind-html="section.value | markdown"></div>
                <div style="clear: both;"></div>
            </div>
            <div style="float: right; width: 150px;">
                    <div style="clear: both;"></div>
                <label ng-show="editableAny"><input type="checkbox" ng-model="editableHere" /> Edit</label>
                <button ng-click="vm.removeSectionFromElement($index)">Remove</button>

                <button ng-click="vm.insertSectionInElement($index + 1)">Insert Section After This</button>
                <div ng-show="editableHere">
                    <button ng-click="vm.explodeSelection(section.value)">Explode Selection</button>
                    <textarea ng-model="section.value"></div>
                </div>

                <div style="clear: both;"></div>
            </div>
            

                
        </article>
    </section>

</main>